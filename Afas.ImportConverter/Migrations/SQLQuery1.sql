USE [aca]
GO

CREATE TABLE [dbo].[ImportData] (
    [ImportDataId] [bigint] NOT NULL IDENTITY,
    [Data] [xml],
    [ResourceId] [uniqueidentifier] NOT NULL,
    [EntityStatusId] [int] NOT NULL,
    [CreatedBy] [nvarchar](50) NOT NULL,
    [CreatedDate] [datetime] NOT NULL,
    [ModifiedBy] [nvarchar](50) NOT NULL,
    [ModifiedDate] [datetime] NOT NULL,
    [MetaData_ID] [bigint],
    CONSTRAINT [PK_dbo.ImportData] PRIMARY KEY ([ImportDataId])
)
CREATE INDEX [IX_MetaData_ID] ON [dbo].[ImportData]([MetaData_ID])
CREATE TABLE [dbo].[ImportMetaData] (
    [ImportMetaDataId] [bigint] NOT NULL IDENTITY,
    [UploadSourceDescription] [nvarchar](max),
    [UploadTypeDescription] [nvarchar](max),
    [ResourceId] [uniqueidentifier] NOT NULL,
    [EntityStatusId] [int] NOT NULL,
    [CreatedBy] [nvarchar](50) NOT NULL,
    [CreatedDate] [datetime] NOT NULL,
    [ModifiedBy] [nvarchar](50) NOT NULL,
    [ModifiedDate] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.ImportMetaData] PRIMARY KEY ([ImportMetaDataId])
)
CREATE TABLE [dbo].[ImportFormatCommandScope] (
    [ImportFormatCommandScopeId] [bigint] NOT NULL IDENTITY,
    [Headers] [bit] NOT NULL,
    [InputSource] [bit] NOT NULL,
    [UploadType] [bit] NOT NULL,
    [Global] [bit] NOT NULL,
    [None] [bit] NOT NULL,
    [ResourceId] [uniqueidentifier] NOT NULL,
    [EntityStatusId] [int] NOT NULL,
    [CreatedBy] [nvarchar](50) NOT NULL,
    [CreatedDate] [datetime] NOT NULL,
    [ModifiedBy] [nvarchar](50) NOT NULL,
    [ModifiedDate] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.ImportFormatCommandScope] PRIMARY KEY ([ImportFormatCommandScopeId])
)
CREATE TABLE [dbo].[ImportFormatCommands] (
    [ImportFormatCommandId] [bigint] NOT NULL IDENTITY,
    [ResourceId] [uniqueidentifier] NOT NULL,
    [EntityStatusId] [int] NOT NULL,
    [CreatedBy] [nvarchar](50) NOT NULL,
    [CreatedDate] [datetime] NOT NULL,
    [ModifiedBy] [nvarchar](50) NOT NULL,
    [ModifiedDate] [datetime] NOT NULL,
    [Discriminator] [nvarchar](128) NOT NULL,
    [MetaData_ID] [bigint],
    [Scope_ID] [bigint],
    CONSTRAINT [PK_dbo.ImportFormatCommands] PRIMARY KEY ([ImportFormatCommandId])
)
CREATE INDEX [IX_MetaData_ID] ON [dbo].[ImportFormatCommands]([MetaData_ID])
CREATE INDEX [IX_Scope_ID] ON [dbo].[ImportFormatCommands]([Scope_ID])

CREATE TABLE [dbo].[ImportFileMetaData] (
    [ImportFileMetaDataId] [bigint] NOT NULL,
    [SourceFilePath] [nvarchar](max),
    [FileTypeDescription] [nvarchar](max),
    CONSTRAINT [PK_dbo.ImportFileMetaData] PRIMARY KEY ([ImportFileMetaDataId])
)
CREATE INDEX [IX_ImportFileMetaDataId] ON [dbo].[ImportFileMetaData]([ImportFileMetaDataId])
CREATE TABLE [dbo].[ImportFormatFileCommandScope] (
    [ImportFormatFileCommandScopeId] [bigint] NOT NULL,
    [FileType] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.ImportFormatFileCommandScope] PRIMARY KEY ([ImportFormatFileCommandScopeId])
)
CREATE INDEX [IX_ImportFormatFileCommandScopeId] ON [dbo].[ImportFormatFileCommandScope]([ImportFormatFileCommandScopeId])

--CREATE INDEX [IX_ArchiveFileInfoId] ON [dbo].[UploadedFileInfo]([ArchiveFileInfoId])
CREATE TABLE [dbo].[UploadedDataInfo] (
    [UploadedDataInfoId] [bigint] NOT NULL IDENTITY,
    [UploadedByUser] [nvarchar](50) NOT NULL,
    [UploadTime] [datetime] NOT NULL,
    [UploadSourceDescription] [nvarchar](50) NOT NULL,
    [UploadTypeDescription] [nvarchar](50) NOT NULL,
    [Processed] [bit] NOT NULL,
    [FailedProcessing] [bit] NOT NULL,
    [UploadOwnerId] [int] NOT NULL,
    [ResourceId] [uniqueidentifier] NOT NULL,
    [EntityStatusId] [int] NOT NULL,
    [CreatedBy] [nvarchar](50) NOT NULL,
    [CreatedDate] [datetime2](7) NOT NULL,
    [ModifiedBy] [nvarchar](50) NOT NULL,
    [ModifiedDate] [datetime2](7) NOT NULL,
    CONSTRAINT [PK_dbo.UploadedDataInfo] PRIMARY KEY ([UploadedDataInfoId])
)
ALTER TABLE [dbo].[ImportData] ADD CONSTRAINT [FK_dbo.ImportData_dbo.ImportMetaData_MetaData_ID] FOREIGN KEY ([MetaData_ID]) REFERENCES [dbo].[ImportMetaData] ([ImportMetaDataId])
ALTER TABLE [dbo].[ImportFormatCommands] ADD CONSTRAINT [FK_dbo.ImportFormatCommands_dbo.ImportMetaData_MetaData_ID] FOREIGN KEY ([MetaData_ID]) REFERENCES [dbo].[ImportMetaData] ([ImportMetaDataId])
ALTER TABLE [dbo].[ImportFormatCommands] ADD CONSTRAINT [FK_dbo.ImportFormatCommands_dbo.ImportFormatCommandScope_Scope_ID] FOREIGN KEY ([Scope_ID]) REFERENCES [dbo].[ImportFormatCommandScope] ([ImportFormatCommandScopeId])
ALTER TABLE [dbo].[ImportFileMetaData] ADD CONSTRAINT [FK_dbo.ImportFileMetaData_dbo.ImportMetaData_ImportFileMetaDataId] FOREIGN KEY ([ImportFileMetaDataId]) REFERENCES [dbo].[ImportMetaData] ([ImportMetaDataId])
ALTER TABLE [dbo].[ImportFormatFileCommandScope] ADD CONSTRAINT [FK_dbo.ImportFormatFileCommandScope_dbo.ImportFormatCommandScope_ImportFormatFileCommandScopeId] FOREIGN KEY ([ImportFormatFileCommandScopeId]) REFERENCES [dbo].[ImportFormatCommandScope] ([ImportFormatCommandScopeId])
--ALTER TABLE [dbo].[UploadedFileInfo] ADD CONSTRAINT [FK_dbo.UploadedFileInfo_dbo.ArchiveFileInfo_ArchiveFileInfoId] FOREIGN KEY ([ArchiveFileInfoId]) REFERENCES [dbo].[ArchiveFileInfo] ([ArchiveFileInfoId])

INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201712061820191_00001-Afas-ImportConverter', N'Afas.ImportConverter.Migrations.Configuration',  0x1F8B0800000000000400ED5D5973E3B8117E4F55FE838A4FBBA95ACBF664379B297BB77C8C27AAC4E329CBB39537172C42366B796849CA63FDB63CE427E52F04E089FB22A9B1643ED922C10F8D4677A37174E37FFFF9EFC9AF2F51387986691624F1A9777470E84D60BC48FC207E3CF5D6F9F2879FBD5F7FF9F39F4E3EF8D1CBE4B7BADC3B5C0E7D1967A7DE539EAFDE4FA7D9E20946203B8882459A64C9323F5824D114F8C9F4F8F0F0EFD3A3A32944101EC29A4C4E6ED7711E44B0F8817E5E24F102AEF23508AF131F8659F51CBD9917A8934F2082D90A2CE0A977B64495CCA25592E6E83344790ED383CB240241EC4DCEC2002092E6305C7A1310C7490E7244F0FB2F199CE769123FCE57E80108EF362B88CA2D4198C1AA21EFDBE2A66D3A3CC66D9AB61F3AF1C46B5A8BDAFB01F125DF60F28A36A3E6A68BA7E0195E05219CC5CB842C8C8AFF136EA807E8D1E7345921A66C6EE1520C31F3BDC9948699B2380D8A1C02D378EACDE2FCA7BF7A934FEB30040F216C584AF07E9E2729FC086398821CFA9F418E3A0CB178E6C3A2AD1C314CD51FA255986C604AD5F9EE5850A719CEC775D02095FF5B0255BCF0EF9000D74097A869E56F4B30CC51FC5F0D84A414699E37B9062FFF82F163FE74EA1DFFF89337B90A5EA05F3FA990BFC4015254F4519EAEB515CD9375BA283A10F5C0D3E0D51102B3CDFA6E21C8B01A0E5CDB2DCC0A76CEBA4952A9EC73A427EBACA11999AE03F2C587781D59235FA4102BDBF946C18A1F0F8D38E156335688CECA81068360197C9366D4553BB4E364DA1A71A5692F0731840A5CACFAECD2DE8CE36FB665B771BBFE1D858A9E43FF8EBA38EAE290BA88C03E81E7E0B190681616E6A050BEC92D0C8B02D953B0AA7ABDD5CDFBB6DC559A44B74948A96EF3FABE1C61118189BCCC1D481F61DEC95E34E4ECA1CDF8825C34E0978CBC84D9220D56A55B3DB00D29EBC5956CB3D6D1728D96AB2F2F023BDAADA13A071924044169385CE709FDE800AE6858BD3366E459C5C9248D407E9144118891329E3D64790A167905BD8746773443A319EADF81126993D0955216E49C2A7569917BA56AC17C817E9A935F15D7D05E943223BC2CDA835348C19664EEA1A5FA07043E4C1BEB729E20CE82D85A1D66F16A9D37FDD309AA751CBB227D0C9307107645F994C49D2919C7035DCD6F783C70B24BD8C9A36C93D841D51A3189EF6827F0E6FEA0EF7F825F2F92701DC58C53C8902FF61CA76AF4759ED496F0122EC13ACC7F03E11A66FD5755C1972D9923110BE1C095142D19A28E10E6F07C3328FC501D4EA2CF96E721887F1FAA92DBE4EB006254176E3A78803AAE217285CA2A0640BF8531FA3B5407DFC2550816C38927B2F9CBCD60BC41E3F123320DE597FBE83CDEA4016A2008FBD993701C71C70D91D17F7BB5F3F97232539C32114D89290B714F166E27C4B232DC74585AB0D36418DBC112AB600E28C9DBFF25BCBACDE79B2F194CB72E8FD52CB88FF330F63B408336C978657A182AD0CF05CC32E8779DD3574088EA2B80664D9DF14AF6DC7C8DBB9FCB1A872B5DCD6F78B832B6FCBCD5677C62F1D0A0F1B8ABF2CDE14B23D01EF7BB86E98F1ECF1C3AFB1AECB15691C3C1B2FF9EFBA8753C7465390744FB819D23B28E08B9E14DCE2CBB0AC16346B0D18769B8416C274D27CDBB6B183DC0B4E6D72247C47993626E79EA1D719CA64ACF6240973F56972F970DFCA6F83BBED96503C9876759962C82A2D3B8036DF792CDE60FB13F313841C3AE0C967B46D7EB300F5661B040CC3DF5FEC235490D5EF7A77C5F9CA9E0F0E0E088E503D166352BD4DB5F32BA0DF7C274337D7346996DA77D439689968135E433FB6F03338BDEC23359D3EE93675A13296B8BB9BD6C5BC40F87E6BC3336B7647FB1E6BE47C64927B3B206E867B62DE1F45A9A0597B4B362AD4343D775443707D5751397B67E8207141CE97201B20582E0E7B7882A13D69663DD4512E72088DB01888ECFC1F4E122F0855D5AAC864A988BFD02E4CAB723AE4C2C3876D290ED60204223071823A0DAF6C9C15AEB68044899086183B5CBB966D885F991932D32559A4A28791521339AA08163C55984A8F7E3697D17C901710E8528A938F9CB6A91991BD3348F91C1A91D5CADFB1C1C2189ACF2D20C30608EE6B80ECF260B07C7C1C5E1DACA2A898287663ECDF6B959A994212B058E8FADEBD33B13695F470D5F1B9BCEBCD4CF02798EDAB9456E8E11D17C81DD52B0D6D815226AE087C5CE7C952FE7F3FC34F396ECFC25A275EC30A2609ED643B2E91605D7EA997EE3D834EF4EA6654C72F5E0642A095E3EB906AB1522950866AE9E4CE66524F3C50F73FB80E1A8C4982E3241DC70436D53539EA4E011326F51D588D2AB20CD8AA1E601E025890B3FE28AD9BB7175C5126F8EEFD87A78AF3FC4FF571FCB03BD391F90C16D797D859A1FC1382F3801E51AC5234C70F0390841AA0F852E37E5A5AF5971966393B1CE2428F9DC1EAD5C4F17E1956FCC11E9D06741B3AB37E688ED5A2489D63E3547620317483CF69D758BC5B0DC4B6BDC3A5E59805ABF32C72477524840F2B985F4501B2A94F4106FEC3089AD141290786C8D556E2A08D0CA17E678E4060909473EB747E3C9A3DFF0882753C674B13673CA194D6EE64E1B6323534DCE50FAB2D2B200E7025467A0551FCBB88EF7DC495EB7187672DAC42E9360A229BD0A6454C7511D3BAA633B27B551C95986FFBF597EA7D7CDBA82EF9D155436E597F78558496B1C3B09961E17212B9016B2AD87DBB8E56BE18A8CF662B417F47BB5BDE83CDC5291C0AE5AAD06B1D36C12CB4EDE8671E9854730D8D987811E7FD39141B4D636D018C157E53E5AE8427C1CA48B43B493B126A690846E1E9AE35041851499E40B97114736CCD8A0D5D1852452FDCC1CA58C2E2431CA27E318378E71F4FBA1C73871586137ABA48773B14C2CAA9D34B6218EA201EA758F4A3DAEF64A23311DD67D459BE97D8E41D20E46CDF283E2084A75CA4E11604AAD3B04D80D898218A0A6BC3275348C62DDED6E328CD4DD953ED38603EF746FE9839D77B29F0431A5FBD34DA280D9DDE925694CFA8E77903CD67EB7FA66EFFC06459E825DEC19613284BDE92071AA87DDEA273E9FC41E748F2049C6AEF48A2E13C74EF78E36CDC8AEF4923C97C94EF78F2245CBAEF48C3C0FCC4EF78C22BDCDEEF48C3C87CE8EF78D2239D0AEF48E3C03D14EF78D22B1D26BEA19A32D3B115B5DB6EBBE5DF78CFB46E3BE51BF7B134C78415FD6509131ADC0D5A998E67B53DDA260EC64964A894662D62F5CC482032B5E5849D8A8EDA3B63B6B3B1FF5D39BFBA3CCF45240EB745E0F61AAF62C92CBB9C936619808B97E677D66850B0E219FBFCDB39D44222F1297786C8D45E4F2A2CE0614CFDA32F69C68B27AF11C685E8DB67CB4E5F4FBE1269D6CD61177AB6B1FEC27B3BA6EE17DA3D51DADAE95D5758BFB1C4DEE3E985C19625FC7D755F8F83FF388DCA11D7D3A485F16B648642BB18D4E243E358F42C44909D8D1429EBD85679AD178D3C0F019884BBE3524B851579D4B77A44E1D5EA924AF5D849D653889649319D1B0F56CEA066BC1D124BC313CFEA80671595415749C51429B57206046A97D3A899A7605790765AE4A0BD441E02A8421A58DCAFCE3D88525C6507246A53E7AED422663456709D3274B729B74F138B6732C413F9A264232ECCDEE89592CE5D0345594A3349ACC35BB8BA2962D9D65529E68CA619F85FADE6A4745D081BA6452DFAAE32C28ED2662DABD2339997AB1E05268B1459A7943F5A4F9DDA4D0AAD2575179B58AB6E12C59459BB22A95169BCFAA2CE24D10EDCF818F7359CD37590EA3035CE060FE4778110668A6D216B80671B084597E97FC0EE353EFF8F0E8D89B9C8501C8CA1C68F699BAA01F4DB3CC0F0579BA885CE1EA84BD46B79318A8B0EEB21201449973F3016F04E695AAA92E28B1BDAE8158D9286B2AAA714429F3589538EB38F8630D83823034BF4EAD41E9545625A88F5A9DBB5CBBC0E6DA8F9F018207299F6DBF0536B9E4497C4D775FE85C62AB41E0EB0C57FD82F3F78974960876A1CB5D60B9BB4484ADC6D73E74BF2AA496D9636CE4E022C88A7C8E7FEBE1E690BE88165D0CE246B5E5B5A48224FC66F74029163C0C6E84A2BE1ED6BEB6AB18A7DE0B3E91312A512725DA11ADB10723973B689154498CA5BE492EBEB0D03979021953BD231186D53DCD1D66B51C7C178197EF6D1553792F5927E451E5F752E59D2EEC56DCC16DA1B326A9794CB5578C35AC1E375980EA6AECE5964AFEE30E4326FD7147A913FEB82394E97EDCBF1F6DCCDBB631FA2D0967FBD2936919DEAA8C3AB0973A209882D1F1420A4A8F8E7FDE96E32E58496AF6A20670FF3BDF2AAF59A1D6EB380730AC76B79113C2B9B7B9146E2408A32BAF017EAB4B6032AF91DE8792E9780F330769CA58AB315D992CD6784867502C5A6DBBD4EE34D756DC026C81EB34B5536739B477BFF4F90DEDFC30115EA7EE6B93259ACE5BAC2F9DEEB279A7DF2CD6F34FAFE87D0F73DAFD429755ADF6F07BBF36963C08DFD1A7335CDAEB8962B585E85AC9E7F618BCFB8C9E3FF8EE8ED5CF9EF0E8FC8CCE8FD910DB957C97BDFD3E861B71F0A8DD70230F1B351F6E488C6DECA88CE3C3DB1E1F9840A971881887881E8E88F077C38B02836822D90B9BE9B811C965E0BADBEB05B8124C111E7FAD3C32FA30C5020DC28B24CEF214047C68D6E7348817C10A84E2F630C59D36E831EB9B6AD83797700563AC767CBB4DEAD684AF34E8CC08A7638DF4B67B5E582CEEC1DE82D888AF8A27D0C505F65294CC5258ED8E5089966B5889126CDFF3B2252AB4E3526672AF50A7730ADB913C5588D416C48E5F3CBDC79DDAC2DE5FA549744F6BE9FD5D72AF5D01EEC1F2E9474BAA7E81D853AF0D047E27AD9EAE2B9434E8AE6ADBA6140A578315F2C86B312199264BDF03D95203B9155327AB8C2F38AC2CBF2EDB6ADEA10674995CCEB41599D7C65B4A8762517C673D0AB3EFAC06796E738384E65F0E32B82BB920E95FA3384F637133C83EE44842EF52C544DBD5B37E36328E13A52A7C524CBB376967CD32B12A63EDD0BCFC010B493901E70A717246574B4E6CB91AC997A2CAC8F746F5B46E80A42E228783B4BEB68C519DA2914252BBA8A89C0E51690D4562FF9CEF696131434AB8DB33392AE8C3417CF5CC7B51BD4C11B38EA0FC4059175085144DA6CA5908023F8A2B85812FAEEB06FE0B0D75BC4DE728E28B88A8E04B19D6DC6C6CC86B6E8BA86A6E4B3135D331CB8AF5BE095192B34292F51DE53C87CB2924931AE932A0382B11B77B4337D1A0F99A24363C232C96BC066089CA76C9F39E0CC4A64AB30C792474528DE61D1CABF446FF5530ADCF1505A94A0EB06031982A8B061FD9BDEBBDB17F0B536979E76C7B1EBF258D3219CBF5570C77EF627DA61EBE67EC669BEAF9266943D43EBF6676A9CA2564CE262EE948F3EE645A7A0CD503F4934B2E82265FEB18EF2C96BF2E61163CB610389F4E0C17D4B4AB2983C9AC27820C457511C1017E1FA9F9599A074BB0C8C93DF2EA62920FD103F467F1CD3A5FAD73D464183D8454F6493C8B54D57F32E5683EB9290E0B647D34019119E0CDD89BF87C1D847E43F79560F7550281A7A7D54111DC97393E30F2B86990F8FBE5654015FB9A59F51D8C562102CB6EE239788672DAF43CA43976721980C714445985D17E8F7E22F1F3A3975FFE0F9E4A1DE859CF0000 , N'6.0.2-21211')
